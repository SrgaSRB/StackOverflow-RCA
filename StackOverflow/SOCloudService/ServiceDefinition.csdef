<?xml version="1.0" encoding="utf-8"?>
<ServiceDefinition name="SOCloudService" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition" schemaVersion="2015-04.2.6">

	<WorkerRole name="NotificationServiceWorker" vmsize="Small">
		<ConfigurationSettings>
			<Setting name="StorageConnectionString" />
			<Setting name="SmtpServer" />
			<Setting name="SmtpPort" />
			<Setting name="SmtpUsername" />
			<Setting name="SmtpPassword" />
			<Setting name="FromEmail" />
			<Setting name="FromName" />
		</ConfigurationSettings>
		<Endpoints>
			<InternalEndpoint name="HealthMonitoring" protocol="http" port="8081" />
		</Endpoints>
	</WorkerRole>

	<WorkerRole name="HealthMonitoringServiceWorker" vmsize="Small">
		<ConfigurationSettings>
			<Setting name="StorageConnectionString" />
			<Setting name="StackOverflowServiceUrl" />
			<Setting name="NotificationServiceUrl" />
			<Setting name="SmtpServer" />
			<Setting name="SmtpPort" />
			<Setting name="SmtpUsername" />
			<Setting name="SmtpPassword" />
			<Setting name="FromEmail" />
			<Setting name="FromName" />
			<Setting name="WebBaseUrl" />
		</ConfigurationSettings>
	</WorkerRole>

	<WebRole name="StackOverflowServiceWeb" vmsize="Small">
		<Sites>
			<Site name="Web">
				<Bindings>
					<Binding name="WebBinding" endpointName="HttpIn" />
				</Bindings>
			</Site>
		</Sites>
		<Endpoints>
			<InputEndpoint name="HttpIn" protocol="http" port="8080" />
		</Endpoints>
		<ConfigurationSettings>
			<Setting name="AzureStorage" />
		</ConfigurationSettings>
	</WebRole>

	<WebRole name="HealthStatusServiceWeb" vmsize="Standard_D1_v2">
		<Sites>
			<Site name="Web">
				<Bindings>
					<Binding name="Endpoint1" endpointName="Endpoint1" />
				</Bindings>
			</Site>
		</Sites>
		<ConfigurationSettings>
			<Setting name="AzureStorage" />
		</ConfigurationSettings>
		<Endpoints>
			<InputEndpoint name="Endpoint1" protocol="http" port="80" />
		</Endpoints>
	</WebRole>

</ServiceDefinition>